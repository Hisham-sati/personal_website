{% capture temptags %}
  {% for tag in site.tags %}
    {{ tag[1].size | plus: 1000 }}#{{ tag[0] }}#{{ tag[1].size }}
  {% endfor %}
{% endcapture %}


{% assign sortedtemptags = temptags | split:' ' | sort | reverse %}


<ul class="tag-cloud">

  <li id="all-tags-tag">
    <a href="/tag/all"><nobr>all tags</nobr></a>
  </li>

  {% for temptag in sortedtemptags %}
    {% assign tagitems = temptag | split: '#' %}
    {% capture tagname %}{{ tagitems[1] }}{% endcapture %}
    <li>
      <a href="/tag/{{ tagname }}"><nobr>{{ tagname }}</nobr></a>
    </li>
  {% endfor %}
  
</ul>
